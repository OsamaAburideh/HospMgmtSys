{% extends 'main/base.html' %}
{% load static %}
{% block content %}
{% if form.errors %}
    <!-- Error messaging -->
    <div id="errors">
        <div class="inner">
            <p>There were some errors in the information you
                entered. Please correct
                the
                following:</p>
            {{ form.non_field_errors }}
            <ul>
                {% for field in form %}
                    {% if field.errors %}
                        <div class="alert alert-danger">
                            <li>{{ field.label }}: {{ field.errors|striptags }}</li>
                        </div>
                    {% endif %}
                {% endfor %}
            </ul>
        </div>
    </div>
    <!-- /Error messaging -->
{% endif %}
<form method="post">
    {% csrf_token %}

    <div class="form-group">
        <label for="oldpassword">Old Password</label>
        {% comment %} {% render_field form.old_password class+="form-control" placeholder="Old Password" %} {% endcomment %}
            <div class="input-icons">
                <i class="fa fa-eye icon toggle-password" ></i>
                <input type="password" id="id_old_password" name="old_password" autocomplete="current-password" autofocus="" class="form-control" placeholder="Old Password" required=""  >
            </div>
    </div>
    <div class="form-group">
        <label for="newpassword">New Password</label>
            <div class="input-icons">
        {% comment %} {% render_field form.new_password1 class+="form-control" placeholder="New Password" %} {% endcomment %}
                <i class="fa fa-eye icon2 toggle-password1" ></i>
                <input type="password" id="id_new_password1" name="new_password1" class="form-control" placeholder="New Password" required="">
            </div>
    </div>
    <div class="form-group">
        <label for="verifypassword">Confirm New Password</label>
        {% comment %} {% render_field form.new_password2 class+="form-control" placeholder="Confirm new Password" %} {% endcomment %}
            <div class="input-icons">
                <i class="fa fa-eye icon3 toggle-password2" ></i>
                <input type="password" id="id_new_password2" name="new_password2" class="form-control" placeholder="Confirm new Password" required="">
            </div>
    </div>

    <div class="form-group text-right">
        <button type="submit" class="btn btn-success"
                style="padding: 10px 50px 10px 50px;">Update Password
        </button>
    </div>

</form>
<script>
    $("body").on('click', '.toggle-password', function() {
      $(this).toggleClass("fa-eye fa-eye-slash");
      var input = $("#id_old_password");
      if (input.attr("type") === "password") {
        input.attr("type", "text");
      } else {
        input.attr("type", "password");
      }
    
    });
    $("body").on('click', '.toggle-password1', function() {
      $(this).toggleClass("fa-eye fa-eye-slash");
      var input = $("#id_new_password1");
      if (input.attr("type") === "password") {
        input.attr("type", "text");
      } else {
        input.attr("type", "password");
      }
    
    });
    $("body").on('click', '.toggle-password2', function() {
      $(this).toggleClass("fa-eye fa-eye-slash");
      var input = $("#id_new_password2");
      if (input.attr("type") === "password") {
        input.attr("type", "text");
      } else {
        input.attr("type", "password");
      }
    
    });
    </script>
{% endblock content %}